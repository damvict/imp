{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Anura Group - Imports{% endblock %}</title>

  <link
  href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
  rel="stylesheet"
/>

  <!-- Core CSS -->
  <link rel="stylesheet" href="{% static 'assets/vendors/bootstrap/dist/css/bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static 'assets/vendors/font-awesome/css/font-awesome.min.css' %}">
  <link rel="stylesheet" href="{% static 'assets/vendors/nprogress/nprogress.css' %}">
  <link rel="stylesheet" href="{% static 'assets/build/css/custom.css' %}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

  <!-- DataTables CSS -->
  <link rel="stylesheet" href="{% static 'assets/vendors/datatables.net-bs/css/dataTables.bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static 'assets/vendors/datatables.net-buttons-bs/css/buttons.bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static 'assets/vendors/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static 'assets/vendors/datatables.net-responsive-bs/css/responsive.bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static 'assets/vendors/datatables.net-scroller-bs/css/scroller.bootstrap.min.css' %}">

  <!-- Select2 -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.3/dist/tailwind.min.css" rel="stylesheet">
<style>
 .site_logo {
  height:80px;
  filter: brightness(0) invert(1);
}
/* Top logo section background */
.left_col .nav_title {
   background: #04284D;   /* dark blue */
}

/* Optional: remove border line */
.left_col .nav_title {
  border-bottom: none;
}
.left_col {
  background: #04284D;
}
/* Keep logo slightly left even when sidebar toggles */
.site_title {
  padding-left: 1px !important;
  text-align: left !important;
}

/* Ensure logo + text stay left aligned */
.site_title img,
.site_title span {
  margin-left: 0;
}
/* Top header background (burger + profile) */
.top_nav .nav_menu {
  background: #04284D;   /* your navy blue */
  border-bottom: none;
}
.menu-toggle {
  display: flex;
  align-items: center;
  gap: 8px;
  color: #ffffff;
}

.menu-text {
  font-size: 14px;
  font-weight: 500;
  opacity: 0.9;
}

/* Optional: hide text on small screens */
@media (max-width: 768px) {
  .menu-text {
    display: none;
  }
}
/* Fix burger + text alignment */
.nav.toggle a {
  display: flex !important;
  align-items: center;
  gap: 8px;
  line-height: normal !important;
  white-space: nowrap;
}

/* Make sure icon doesn't behave like block */
.nav.toggle a i {
  display: inline-block;
}
.menu-text {
  color:  #22c55e;   /* white */
}

/* Right-side username color */
.top_nav .navbar-right .user-profile {
  color: #ffffff !important;   /* white */
}



  /* Main content area background (normal area) */
/* Background of normal content area (behind cards) */
/* Force background for main content area */
.right_col {
  background-color: #EAF2F8 !important;
  min-height: 100vh;
}


/* Arrival Notice â€“ label styles */
.arrival-bg label {
    color: #1F2937;          /* Dark gray (professional) */
    font-weight: 600;
}

/* ---------------- FOOTER NAV ---------------- */

.web-footer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 64px;
   left: 230px; 
  background: #ffffff;
  border-top: 1px solid #E5E7EB;
  display: flex;
  justify-content: space-around;
  align-items: center;
  z-index: 1000;
  box-shadow: 0 -4px 8px rgba(0,0,0,0.05);
}

.footer-item {
  text-decoration: none;
  color: #6B7280;
  font-size: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
}

.footer-item i {
  font-size: 18px;
  margin-bottom: 2px;
}

.footer-item.active {
  color: #1E3A8A;
  font-weight: 700;
}

.footer-item.danger {
  color: #DC2626;
}

/* Prevent overlap with content */
.right_col {
  padding-bottom: 80px !important;
}

/* Desktop refinement */
@media (min-width: 992px) {
  .web-footer {
    height: 56px;
  }
}
/* When sidebar is collapsed */
.nav-sm .web-footer {
  left: 70px;               /* collapsed sidebar width */
}
</style>
</head>

<body class="nav-md">
<div class="container body">
  <div class="main_container">

    <!-- Sidebar -->
    <div class="col-md-3 left_col">
      <div class="left_col scroll-view">
        <div class="navbar nav_title">
        <a class="site_title" href="{% url 'home' %}">
  <img src="{% static 'assets/images/logo.png' %}"
       alt="ISWM"
       class="site_logo">
  <span>ISWM</span>
</a>


        </div>
        <div class="clearfix"></div>

        <!-- Profile -->
       <div class="profile clearfix">
  <div class="profile_info single-line">
    <span>Welcome,</span>
    <strong>{{ user.username }}</strong>
  </div>
</div>

        <br />

        <!-- Sidebar Menu -->
        <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
          <div class="menu_section">
            <h3>General</h3>
            <ul class="nav side-menu">
              <li><a><i class="fa fa-home"></i> Home <span class="fa fa-chevron-down"></span></a>
                <ul class="nav child_menu">
                  {% if request.user.groups.all.0.name == 'Admin' %}
                    <li><a href="{% url 'admin_dashboard' %}">Admin Dashboard</a></li>
                     <li><a href="{% url 'sales_dashboard' %}">Sales Dashboard</a></li>
                  {% elif request.user.groups.all.0.name == 'Warehouse Staff' %}
                    <li><a href="{% url 'warehouse_dashboard' %}">Warehouse Dashboard</a></li>
                  {% elif request.user.groups.all.0.name == 'Security Guard' %}
                    <li><a href="{% url 'home' %}">Dashboard</a></li>
                      {% elif request.user.groups.all.0.name == 'Managing Director' %}
                    <li><a href="{% url 'md_dashboard' %}">MD Dashboard</a></li>
                    <li><a href="{% url 'md_bank_dashboard' %}">Bank Dashboard</a></li>
               

                    {% elif request.user.groups.all.0.name == 'Clearing Agent' %}
                    <li><a href="{% url 'clearing_agent_dashboard' %}"> Dashboard</a></li>

                     {% elif request.user.groups.all.0.name == 'Bank Controller' %}
                    <li><a href="{% url 'bank_controller_dashboard_web' %}"> Dashboard</a></li>

                      {% elif request.user.groups.all.0.name == 'Bank Manager' %}
                    <li><a href="{% url 'bank_manager_dashboard' %}">Dashboard</a></li>

                   
                    
                   

                  {% endif %}
                 
                </ul>
              </li>


              <li><a><i class="fa fa-truck"></i> Shipment Management <span class="fa fa-chevron-down"></span></a>
                <ul class="nav child_menu">
                  {% if perms.masters.can_create_shipment %}
                  
                    <li><a href="{% url 'arrival-notice-create' %}"> New Shipment Arrival Notice </a></li>
                    <li><a href="{% url 'new-shipment' %}">Create New Shipment </a></li>
                    <li><a href="{% url 'document_handover_web' %}">  Document Handover</a>    </li>
                           




                  {% endif %}
                  
                </ul>
              </li>

              {% if show_common_masters_menu %}
              <li><a><i class="fa fa-sitemap"></i> Common Masters <span class="fa fa-chevron-down"></span></a>
                <ul class="nav child_menu">
                  <li><a>Item Categories <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="{% url 'itemcategory_create' %}">New</a></li>
                      <li><a href="{% url 'itemcategory_list' %}">View</a></li>
                    </ul>
                  </li>
                  <li><a>Container/Vehicle Types <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="{% url 'vehicle_type_create' %}">New</a></li>
                      <li><a href="{% url 'vehicle_type_list' %}">View</a></li>
                    </ul>
                  </li>
                  <li><a>Status Colors <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="{% url 'status_color_create' %}">New</a></li>
                      <li><a href="{% url 'status_color_list' %}">View</a></li>
                    </ul>
                  </li>
                  <li><a>Warehouse <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="{% url 'warehouse_create' %}">New</a></li>
                      <li><a href="{% url 'warehouse_list' %}">View</a></li>
                    </ul>
                  </li>
                  <li><a>Sales Divisions <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="{% url 'salesdivision_create' %}">New</a></li>
                      <li><a href="{% url 'salesdivision_list' %}">View</a></li>
                    </ul>
                  </li>
                  <li><a>Company <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="{% url 'company_create' %}">New</a></li>
                      <li><a href="{% url 'company_list' %}">View</a></li>
                    </ul>
                  </li>
                  <li><a>Users <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="{% url 'create_user' %}">New</a></li>
                      <li><a href="{% url 'user_list' %}">View</a></li>
                    </ul>
                  </li>

                   <li><a>Bank <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="{% url 'bank_create' %}">New</a></li>
                      <li><a href="{% url 'bank_list' %}">View</a></li>
                    </ul>
                  </li>

                   <li><a>Supplier <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="{% url 'supplier_create' %}">New</a></li>
                      <li><a href="{% url 'supplier_list' %}">View</a></li>
                    </ul>
                  </li>

                  <li><a>Clearing Agents <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="{% url 'clearingagent_add' %}">New</a></li>
                      <li><a href="{% url 'clearingagent_list' %}">View</a></li>
                    </ul>
                  </li>

                </ul>
              </li>
              {% endif %}
            </ul>
          </div>
        </div>

        <!-- Sidebar Footer -->
        <div class="sidebar-footer hidden-small">
          <a data-toggle="tooltip" title="Settings"><span class="glyphicon glyphicon-cog"></span></a>
          <a data-toggle="tooltip" title="FullScreen"><span class="glyphicon glyphicon-fullscreen"></span></a>
          <a data-toggle="tooltip" title="Lock"><span class="glyphicon glyphicon-eye-close"></span></a>
          <a data-toggle="tooltip" title="Logout" href="{% url 'logout' %}"><span class="glyphicon glyphicon-off"></span></a>
        </div>
      </div>
    </div>

    <!-- Top Navigation -->
    <div class="top_nav">
      <div class="nav_menu">
        <div class="nav toggle">
          <a id="menu_toggle"><i class="fa fa-bars"></i>
          <span class="menu-text">IMPORT SHIPMENT WORKFLOW MANAGEMENT
</span>
          </a>
        </div>
        <nav class="nav navbar-nav">
          <ul class="navbar-right">
            <li class="nav-item dropdown open" style="padding-left: 15px;">
              <a href="#" class="user-profile dropdown-toggle" data-toggle="dropdown">
                <img src="{% static 'assets/images/p.png' %}" alt="">{{ user.username }}
              </a>
              <div class="dropdown-menu">
                <a class="dropdown-item" href="#">Profile</a>
                <a class="dropdown-item" href="{% url 'logout' %}"><i class="fa fa-sign-out"></i> Log Out</a>
              </div>
            </li>
          </ul>
        </nav>
      </div>
    </div>

    <!-- Page Content -->
    <div class="right_col" role="main">
      {% block content %}{% endblock %}
    </div>
  </div>
</div>


<!-- ROLE BASED FOOTER NAV -->
<div class="web-footer">

  {# ---------------- DASHBOARD ---------------- #}
  {% if request.user.groups.all.0.name == "Managing Director" %}
    <a href="{% url 'md_dashboard' %}"
       class="footer-item {% if request.resolver_match.url_name == 'md_dashboard' %}active{% endif %}">
      <i class="fas fa-home"></i>
      <span>Dashboard</span>
    </a>

  {% elif request.user.groups.all.0.name == "Admin" %}
    <a href="{% url 'admin_dashboard' %}"
       class="footer-item {% if request.resolver_match.url_name == 'admin_dashboard' %}active{% endif %}">
      <i class="fas fa-home"></i>
      <span>Dashboard</span>
    </a>

  {% elif request.user.groups.all.0.name == "Warehouse Staff" %}
    <a href="{% url 'warehouse_dashboard' %}"
       class="footer-item {% if request.resolver_match.url_name == 'warehouse_dashboard' %}active{% endif %}">
      <i class="fas fa-home"></i>
      <span>Dashboard</span>
    </a>

  {% elif request.user.groups.all.0.name == "Clearing Agent" %}
    <a href="{% url 'clearing_agent_dashboard' %}"
       class="footer-item {% if request.resolver_match.url_name == 'clearing_agent_dashboard' %}active{% endif %}">
      <i class="fas fa-home"></i>
      <span>Dashboard</span>
    </a>
  {% endif %}

  {# ---------------- SHIPMENTS ---------------- #}
{# ---------------- SHIPMENTS ---------------- #}
  {# SHIPMENTS (COMMON) #}
  {% if request.resolver_match.url_name != 'clearing_agent_dashboard' %}
    <a href="{% url 'shipments_web' %}"
      class="footer-item {% if request.resolver_match.url_name == 'shipments_web' %}active{% endif %}">
      <i class="fas fa-truck"></i>
      <span>Shipments</span>
    </a>
  {% endif %}


  {# ---------------- LOGOUT ---------------- #}
  <a href="{% url 'logout' %}" class="footer-item danger">
    <i class="fas fa-sign-out-alt"></i>
    <span>Logout</span>
  </a>

</div>


<!-- JS Scripts -->
<script src="{% static 'assets/vendors/jquery/dist/jquery.min.js' %}"></script>
<script src="{% static 'assets/vendors/bootstrap/dist/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'assets/build/js/custom.min.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>


<script>
  $(document).ready(function() {
    $('.select2').select2({
      placeholder: "Please select",
      allowClear: true,
      dropdownAutoWidth: true,
      width: '100%'
    });
  });
</script>

{% block extra_js %}{% endblock %}




</body>
</html>
